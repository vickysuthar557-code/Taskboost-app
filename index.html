<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TaskBoost Elite</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@500;700;800&display=swap');
        body { font-family: 'Plus Jakarta Sans', sans-serif; background: #0f172a; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; padding: 20px; box-sizing: border-box; }
        .container { width: 100%; max-width: 400px; }
        
        /* Premium Logo Area */
        .logo-area { text-align: center; margin-bottom: 30px; }
        .logo-text { font-size: 28px; font-weight: 800; color: white; letter-spacing: -1px; }
        .logo-sub { color: #94a3b8; font-size: 12px; font-weight: 600; letter-spacing: 2px; text-transform: uppercase; }

        .card { background: white; padding: 30px; border-radius: 30px; box-shadow: 0 20px 50px -10px rgba(0,0,0,0.5); }
        h2 { text-align: center; color: #0f172a; margin-top: 0; font-weight: 800; font-size: 22px; }
        
        input, select { width: 100%; padding: 16px; margin: 8px 0; border: 2px solid #e2e8f0; border-radius: 16px; box-sizing: border-box; font-family: inherit; background: #f8fafc; font-weight: 600; outline: none; transition: 0.3s; }
        input:focus { border-color: #ff8c00; background: #fff; }
        
        button { width: 100%; padding: 18px; background: linear-gradient(135deg, #ff8c00 0%, #ff5e00 100%); color: white; border: none; border-radius: 16px; font-weight: 800; cursor: pointer; margin-top: 20px; font-size: 16px; box-shadow: 0 10px 30px -5px rgba(255, 94, 0, 0.4); transition: transform 0.2s; }
        button:active { transform: scale(0.98); }
        
        .link { text-align: center; margin-top: 20px; font-size: 13px; color: #64748b; cursor: pointer; font-weight: 700; }
        .link span { color: #ff8c00; }
        
        .admin-box { margin-top: 20px; border-top: 1px dashed #cbd5e1; padding-top: 15px; display: none; }
        
        /* Referral Table */
        .plan-table { width: 100%; border-collapse: collapse; font-size: 11px; margin-top: 20px; background: #f8fafc; border-radius: 15px; overflow: hidden; }
        .plan-table td { padding: 10px; border-bottom: 1px solid #e2e8f0; font-weight: 700; color: #334155; }
        .plan-table tr:last-child td { border-bottom: none; }
        .plan-header { background: #e2e8f0; color: #475569 !important; font-size: 10px; text-transform: uppercase; }

        /* Payment Section Styles */
        .upi-box { background: #f1f5f9; border: 1px solid #cbd5e1; padding: 12px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; margin-bottom: 5px; }
        .hidden { display: none; }
    </style>
</head>
<body>

    <div class="container">
        <div class="logo-area">
            <div class="logo-text">⚡️ TASKBOOST</div>
            <div class="logo-sub">Elite Earning Platform</div>
        </div>

        <div id="login-box" class="card">
            <h2>Welcome Back</h2>
            <input type="number" id="login-phone" placeholder="Phone Number">
            <input type="password" id="login-password" placeholder="Password">
            <button onclick="window.handleUserLogin()">SECURE LOGIN</button>
            
            <div class="link" onclick="window.toggleForm('register')">New User? <span>Create Account</span></div>
            <div class="link" onclick="document.getElementById('admin-login').style.display='block'" style="font-size:11px; opacity:0.5; margin-top:30px;">Admin Panel</div>
            
            <div id="admin-login" class="admin-box">
                <input type="password" id="admin-id" placeholder="Admin ID">
                <input type="password" id="admin-pass" placeholder="Password">
                <button onclick="window.adminLogin()" style="background:#0f172a; box-shadow:none;">ACCESS DASHBOARD</button>
            </div>
        </div>

        <div id="reg-box" class="card hidden">
            <h2>Create Account</h2>
            <input type="text" id="reg-name" placeholder="Full Name">
            <input type="number" id="reg-phone" placeholder="Phone Number">
            <input type="password" id="reg-password" placeholder="Create Password">
            <input type="text" id="reg-referrer-id" placeholder="Referral ID (Optional)">
            
            <select id="package-select" onchange="window.togglePay()">
                <option value="">Select Package</option>
                <option value="FREE_PLAN">Free Trial (₹0) - ₹0.20/min</option>
                <option value="PKG_500">Basic (₹500) - ₹0.50/min</option>
                <option value="PKG_1000">Bronze (₹1000) - ₹0.80/min</option>
                <option value="PKG_2000">Silver (₹2000) - ₹1.60/min</option>
                <option value="PKG_3000">Gold (₹3000) - ₹2.20/min</option>
                <option value="PKG_5000">Platinum (₹5000) - ₹3.00/min</option>
                <option value="PKG_10000">Diamond (₹10000) - ₹5.00/min</option>
            </select>

            <div id="payment-section" style="display:none; background:#ffffff; padding:15px; border-radius:15px; border:1px solid #e2e8f0; margin-top:15px; text-align:center;">
                <h4 style="margin:0 0 15px 0; color:#0f172a;">Scan to Pay</h4>
                
                <div style="background:#fff; padding:5px; border:1px solid #e2e8f0; border-radius:10px; display:inline-block; margin-bottom:15px;">
                    <img id="pay-qr-img" src="" style="width:140px; height:140px; display:block;">
                </div>

                <div class="upi-box" onclick="window.copyRegUPI()">
                    <span id="pay-upi-display" style="font-family:monospace; font-weight:bold; color:#334155; font-size:14px;">Loading...</span>
                    <i class="fas fa-copy" style="color:#ff8c00;"></i>
                </div>
                <p style="font-size:10px; color:#64748b; margin-top:5px; margin-bottom: 15px;">Tap box to Copy UPI ID</p>

                <button onclick="window.payNow()" style="background:#22c55e; margin-top:0; padding:12px; box-shadow:none; margin-bottom: 15px;">Open Payment App</button>
                
                <div style="text-align:left;">
                    <label style="font-size:12px; font-weight:bold; color:#475569;">Transaction ID / UTR:</label>
                    <input type="text" id="trans-details" placeholder="Enter 12-Digit UTR Number" style="background:white; border:1px solid #cbd5e1;">
                </div>
            </div>

            <table class="plan-table">
                <tr class="plan-header"><td>Level</td><td>BONUS</td><td>RATE+</td></tr>
                <tr><td>Level 1</td><td style="color:#10b981;">₹100</td><td>+0.15</td></tr>
                <tr><td>Level 2</td><td style="color:#10b981;">₹50</td><td>+0.10</td></tr>
                <tr><td>Level 3</td><td style="color:#10b981;">₹30</td><td>+0.05</td></tr>
                <tr><td>Level 4-5</td><td style="color:#10b981;">₹20</td><td>+0.05</td></tr>
            </table>

            <button onclick="window.handleRegistration()">REGISTER NOW</button>
            <div class="link" onclick="window.toggleForm('login')">Back to Login</div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2.43.0"></script>
    <script src="app.js"></script>
</body>
</html>
